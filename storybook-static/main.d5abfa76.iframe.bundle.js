(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{491:function(module,exports,__webpack_require__){__webpack_require__(492),__webpack_require__(647),__webpack_require__(648),__webpack_require__(870),__webpack_require__(871),__webpack_require__(877),__webpack_require__(878),__webpack_require__(875),__webpack_require__(872),__webpack_require__(879),__webpack_require__(873),__webpack_require__(874),__webpack_require__(880),module.exports=__webpack_require__(845)},558:function(module,exports){},648:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(347)},845:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(347).configure)([__webpack_require__(846),__webpack_require__(847)],module,!1)}).call(this,__webpack_require__(200)(module))},846:function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=846},847:function(module,exports,__webpack_require__){var map={"./components/Button/Button.stories.tsx":881,"./components/http/http.stories.tsx":876};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=847},848:function(module,exports,__webpack_require__){var api=__webpack_require__(849),content=__webpack_require__(850);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},850:function(module,exports,__webpack_require__){(exports=__webpack_require__(851)(!1)).push([module.i,"",""]),module.exports=exports},876:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Primary1",(function(){return Primary1})),__webpack_require__.d(__webpack_exports__,"Secondary1",(function(){return Secondary1}));__webpack_require__(436),__webpack_require__(12);var react=__webpack_require__(0),axios=(__webpack_require__(55),__webpack_require__(7),__webpack_require__(294),__webpack_require__(300)),axios_default=__webpack_require__.n(axios),timer=__webpack_require__(889),URL="https://api-dev.hivepro.in:10443/artms-dev-v2-1-api";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var HttpMethodTypes,HttpResponseTypes,cookies=new(__webpack_require__(471).a),http=axios_default.a.create({baseURL:"https://api-dev.hivepro.in:10443/artms-dev-v2-1-api",headers:{domain:"HP",app:"artms",language:"en"}}),http_HttpService=function(){function HttpService(){var _this=this;_classCallCheck(this,HttpService),this.unAuthorizedError=void 0,this.apiCall=function(url,request,extraHeaders){return new Promise((function(resolve,reject){var count=0,headers={Authorization:"Bearer "+_this.getAccessToken()};extraHeaders&&extraHeaders["Content-Type"]||(headers["Content-type"]="application/json");!function takeCallback(){http.post(url,request,{headers:Object.assign({},headers,extraHeaders)}).then((function(response){resolve(response)})).catch((function(httpError){console.log("service"),console.log(httpError),count++,_this.handleError(httpError).then((function(handleError){"unAuthorizedError"===handleError?_this.checkToken().then((function(){count>=3?reject(httpError):takeCallback()})).catch((function(error){reject(httpError)})):"success"===handleError?count>=3?reject(httpError):takeCallback():"error"===handleError&&reject(httpError)})).catch((function(error){reject(error)}))}))}()}))},this.getApiCall=function(url,request,extraHeaders){return new Promise((function(resolve,reject){var count=0,headers={Authorization:"Bearer "+_this.getAccessToken()};extraHeaders&&extraHeaders["Content-Type"]||(headers["Content-type"]="application/json");!function takeCallback(){http.get(url,{headers:Object.assign({},headers,extraHeaders,request?{params:request}:{})}).then((function(response){resolve(response)})).catch((function(httpError){console.log("service"),console.log(httpError),count++,reject(httpError),_this.handleError(httpError).then((function(handleError){"unAuthorizedError"===handleError?_this.checkToken().then((function(){count>=3?reject(httpError):takeCallback()})).catch((function(error){reject(httpError)})):"success"===handleError?count>=3?reject(httpError):takeCallback():"error"===handleError&&reject(httpError)})).catch((function(error){reject(error)}))}))}()}))},this.storeAccessTokenResponse=function(access_token,expires_in,refresh_token){cookies.set("access-token",access_token,{path:"/"}),cookies.set("expires_in",expires_in,{path:"/"}),cookies.set("refresh_token",refresh_token,{path:"/"})},this.fileUploadProgress=void 0,this.multipartApiCall=function(endPoint,formData){arguments.length>2&&void 0!==arguments[2]||HttpMethodTypes.GET;var uploadProgressEvent=arguments.length>4?arguments[4]:void 0;arguments.length>5&&void 0!==arguments[5]||HttpResponseTypes.blob;return new Promise((function(resolve2,reject2){var headers={Authorization:"Bearer "+_this.getAccessToken()},config={onUploadProgress:uploadProgressEvent};axios_default.a.post(URL+endPoint,formData,Object.assign({},config,{headers:headers})).then((function(res){return resolve2(res)})).catch((function(err){return reject2(err)}))}))},this.unAuthorizedError=!1}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(HttpService,[{key:"handleError",value:function handleError(error){var _this2=this;return new Promise((function(resolve,reject){console.log(error.response),401===error.response.status?_this2.unAuthorizedError?resolve("unAuthorizedError"):(_this2.unAuthorizedError=!0,_this2.refreshToken().then((function(response){_this2.storeAccessTokenResponse(response.data.access_token,response.data.expires_in,response.data.refresh_token),_this2.unAuthorizedError=!1,resolve("success")})).catch((function(tokenError){_this2.removeUsersDetailsAndRedirect(),_this2.unAuthorizedError=!1,reject("error")}))):reject("error")}))}},{key:"checkToken",value:function checkToken(){var _this3=this;return new Promise((function(resolve){var count=0,subscription=Object(timer.a)(1e3,1e3).subscribe((function(time){++count>5&&(subscription.unsubscribe(),resolve(!0)),_this3.getAccessToken()&&(subscription.unsubscribe(),resolve(!0))}))}))}},{key:"getAccessToken",value:function getAccessToken(){return cookies.get("access-token")}},{key:"removeUsersDetailsAndRedirect",value:function removeUsersDetailsAndRedirect(){cookies.remove("access-token"),cookies.remove("refresh_token"),cookies.remove("expires_in")}},{key:"refreshToken",value:function refreshToken(){cookies.remove("access-token");var request={scope:"write",grant_type:"refresh_token",refresh_token:cookies.get("refresh_token")};return this.apiCall("/oauth/token",this.formatData(request),{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic cmVzdDpyZXN0",domain:"HP",app:"artms",language:"en"})}},{key:"formatData",value:function formatData(data){var returnData="",count=0;for(var i in data)returnData+=0===count?i+"="+data[i]:"&"+i+"="+data[i],count+=1;return returnData}},{key:"multipart",value:function multipart(endPoint,formData){var _this4=this,methodType=arguments.length>2&&void 0!==arguments[2]?arguments[2]:HttpMethodTypes.GET,backendUrl=arguments.length>3?arguments[3]:void 0,responseType=arguments.length>4&&void 0!==arguments[4]?arguments[4]:HttpResponseTypes.blob,authKey=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"Authorization",uploadProgressEvent=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(progressEvent){var percentCompleted=Math.round(100*progressEvent.loaded/progressEvent.total);console.log(percentCompleted)};return new Promise((function(resolve,reject){var count=0;!function takeCallback(){_this4.multipartApiCall(endPoint,formData,methodType,backendUrl,uploadProgressEvent,responseType,authKey).then((function(result){resolve(result)})).catch((function(httpError){console.log("service"),console.log(httpError),count++,_this4.handleError(httpError).then((function(handleError){"unAuthorizedError"===handleError?_this4.checkToken().then((function(){count>=3?reject(httpError):takeCallback()})).catch((function(error){reject(httpError)})):"success"===handleError?count>=3?reject(httpError):takeCallback():"error"===handleError&&reject(httpError)})).catch((function(error){reject(error)}))}))}()}))}}]),HttpService}();!function(HttpMethodTypes){HttpMethodTypes.GET="GET",HttpMethodTypes.POST="POST",HttpMethodTypes.PUT="PUT"}(HttpMethodTypes||(HttpMethodTypes={})),function(HttpResponseTypes){HttpResponseTypes.blob="blob",HttpResponseTypes.json="json",HttpResponseTypes.arraybuffer="arraybuffer"}(HttpResponseTypes||(HttpResponseTypes={}));var httpService=new http_HttpService,http_http=httpService,HttpContext=react.createContext(httpService),jsx_runtime=__webpack_require__(58),http_stories_Template=(__webpack_exports__.default={title:"Http",decorators:[function(Story){return Object(jsx_runtime.jsx)(HttpContext.Provider,{value:http_http,children:Object(jsx_runtime.jsx)(Story,{})})}]},function Template(args){return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("button",{onClick:http_stories_callGetApi,children:" Get API "}),Object(jsx_runtime.jsx)("br",{}),Object(jsx_runtime.jsx)("button",{onClick:http_stories_callPostApi,children:" Post API "}),Object(jsx_runtime.jsx)("button",{onClick:http_stories_callMulitpartPostApi,children:"XHR POST"})]})}),Primary1=http_stories_Template.bind({});Primary1.args={label:"Primary 😃",size:"large"};var Secondary1=http_stories_Template.bind({});Secondary1.args=Object.assign({},Primary1.args,{primary:!1,label:"Secondary 😇"});var http_stories_callGetApi=function callGetApi(){http_http.getApiCall("https://reqres.in/api/users?page=2",null,{baseURL:""}).then((function(res){return console.log(res)}))},http_stories_callPostApi=function callPostApi(){http_http.getApiCall("https://reqres.in/api/register",{email:"sydney@fife"},{baseURL:""}).then((function(res){return console.log(res)}))},http_stories_callMulitpartPostApi=function callMulitpartPostApi(){var formData=new FormData;formData.append("data",JSON.stringify({organisationId:"60c99ebabfb45d4b7308b534",orgName:"ST",orgSite:"https://ST.test.com",removeImage:!1})),http_http.multipart("/organisation/v1/pta/update/name",formData,HttpMethodTypes.POST).then((function(res){return console.log(res)}))};Primary1.parameters=Object.assign({storySource:{source:"(args) =>\n    <>\n        <button onClick={callGetApi}> Get API </button>\n        <br />\n        <button onClick={callPostApi}> Post API </button>\n        <button onClick={callMulitpartPostApi}>XHR POST</button>\n    </>"}},Primary1.parameters),Secondary1.parameters=Object.assign({storySource:{source:"(args) =>\n    <>\n        <button onClick={callGetApi}> Get API </button>\n        <br />\n        <button onClick={callPostApi}> Post API </button>\n        <button onClick={callMulitpartPostApi}>XHR POST</button>\n    </>"}},Secondary1.parameters)},880:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters}));__webpack_require__(22),__webpack_require__(5),__webpack_require__(49),__webpack_require__(428),__webpack_require__(842),__webpack_require__(45),__webpack_require__(843),__webpack_require__(844),__webpack_require__(294);var client_api=__webpack_require__(890),esm=__webpack_require__(4),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}},layout:"centered"};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(client_api.c)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(client_api.d)(loader,!1)}));case"parameters":return Object(client_api.e)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(client_api.a)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(client_api.b)(enhancer)}));case"render":return Object(client_api.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(client_api.e)(v,!1);default:return console.log(key+" was not supported :( !")}}))},881:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Primary",(function(){return Primary})),__webpack_require__.d(__webpack_exports__,"Secondary",(function(){return Secondary}));__webpack_require__(12),__webpack_require__(436),__webpack_require__(0),__webpack_require__(52),__webpack_require__(848);var jsx_runtime=__webpack_require__(58),Button_Button=function Button(_ref){var _ref$primary=_ref.primary,primary=void 0===_ref$primary||_ref$primary,backgroundColor=_ref.backgroundColor,_ref$size=_ref.size,size=void 0===_ref$size?"medium":_ref$size,onClick=_ref.onClick,label=_ref.label,mode=primary?"storybook-button--primary":"storybook-button--secondary";return Object(jsx_runtime.jsx)("button",{type:"button",className:["storybook-button","storybook-button--"+size,mode].join(" "),style:backgroundColor?{backgroundColor:backgroundColor}:{},onClick:onClick,children:label})};Button_Button.displayName="Button";var components_Button_Button=Button_Button;try{Button_Button.displayName="Button",Button_Button.__docgenInfo={description:"Primary UI component for user interaction",displayName:"Button",props:{primary:{defaultValue:{value:"true"},description:"Is this the principal call to action on the page?",name:"primary",required:!1,type:{name:"boolean"}},backgroundColor:{defaultValue:null,description:"What background color to use",name:"backgroundColor",required:!1,type:{name:"string"}},size:{defaultValue:{value:"medium"},description:"How large should the button be?",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"medium"'},{value:'"large"'}]}},label:{defaultValue:null,description:"Button contents",name:"label",required:!0,type:{name:"string"}},onClick:{defaultValue:null,description:"Optional click handler",name:"onClick",required:!1,type:{name:"((event: MouseEvent<HTMLButtonElement, MouseEvent>) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Button/Button.tsx#Button"]={docgenInfo:Button_Button.__docgenInfo,name:"Button",path:"src/components/Button/Button.tsx#Button"})}catch(__react_docgen_typescript_loader_error){}__webpack_exports__.default={title:"Components/Button",component:components_Button_Button};var Button_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(components_Button_Button,Object.assign({},args))};Button_stories_Template.displayName="Template";var Primary=Button_stories_Template.bind({});Primary.args={label:"Primary 😃",size:"large"};var Secondary=Button_stories_Template.bind({});Secondary.args=Object.assign({},Primary.args,{primary:!1,label:"Secondary 😇"}),Primary.parameters=Object.assign({storySource:{source:"(args) => <Button {...args} />"}},Primary.parameters),Secondary.parameters=Object.assign({storySource:{source:"(args) => <Button {...args} />"}},Secondary.parameters)}},[[491,2,3]]]);